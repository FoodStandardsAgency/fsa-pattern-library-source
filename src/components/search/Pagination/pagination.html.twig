{% set pageIndexPrev =  (maxVisiblePages / 2)|round %}
{% set pageIndexNext  = (maxVisiblePages / 2)|round %}

<nav class="pagination" role="navigation" aria-label="{{ paginationType }} pagination">
  <ul class="pagination__list">
    <li>
      <ul class="pagination__item-group pagination__back{{ currentPage == 1 ? ' pagination__item-group--hidden' : '' }}"{{ currentPage == 1 ? 'aria-hidden="true"' : '' }}>
        <li class="pagination__item pagination__item--first"><a data-page="1" href="#">First</a></li>
        <li class="pagination__item pagination__item--previous"><a data-page="{{ currentPage - 1 }}"
                                                                   href="#">Previous</a>
        </li>
      </ul>
    </li>
    <li>
      <ul class="pagination__item-group pagination__numbered">
        {% if currentPage == 1 %}
          <li class="pagination__item pagination__item--numbered"><a data-page="1"
                                                                     href="#"
                                                                     aria-label="Current page, page 1"
                                                                     aria-current="page"
                                                                     aria-disabled="true">1</a></li>
        {% else %}
          <li class="pagination__item pagination__item--numbered"><a data-page="1" href="#"
                                                                     aria-label="Go to page 1">1</a></li>
        {% endif %}
        {% if currentPage > maxVisiblePages %}
          <li class="pagination__item pagination__item--numbered"><a data-page="{{ currentPage - maxVisiblePages }}"
                                                                     href="#"
                                                                     aria-label="Load previous {{ maxVisiblePages }} pages">...</a>
          </li>
        {% endif %}
        {% for page in range (currentPage - pageIndexPrev, currentPage + pageIndexNext) %}
          {% if page > 1 and page < totalPages %}
            {% if page == currentPage %}
              <li class="pagination__item pagination__item--numbered"><a data-page="{{ page }}"
                                                                         href="#"
                                                                         aria-label="Current page, page {{ page }}"
                                                                         aria-current="page"
                                                                         aria-disabled="true">{{ page }}</a></li>
            {% else %}
              <li class="pagination__item pagination__item--numbered"><a data-page="{{ page }}"
                                                                         href="#"
                                                                         aria-label="Go to page {{ page }}">{{ page }}</a>
              </li>
            {% endif %}
          {% endif %}
        {% endfor %}
        {% if currentPage < (totalPages - maxVisiblePages) %}
          <li class="pagination__item pagination__item--numbered"><a aria-label="Load next {{ maxVisiblePages }} pages"
                                                                     data-page="{{ currentPage + maxVisiblePages }} "
                                                                     href="#">...</a>
          </li>
        {% endif %}
        {% if currentPage == totalPages %}
          <li class="pagination__item pagination__item--numbered"><a data-page="{{ totalPages }}"
                                                                     href="#"
                                                                     aria-label="Current page, page {{ totalPages }}"
                                                                     aria-current="page"
                                                                     aria-disabled="true">{{ totalPages }}</a></li>
        {% else %}
          <li class="pagination__item pagination__item--numbered"><a data-page="{{ totalPages }}" href="#"
                                                                     aria-label="Go to page {{ totalPages }}">{{ totalPages }}</a>
          </li>
        {% endif %}
      </ul>
    </li>
    <li>
      <ul class="pagination__item-group pagination__forward{{ currentPage == totalPages ? ' pagination__item-group--hidden' : '' }}"{{ currentPage == totalPage ? 'aria-hidden="true"' : '' }}>
        <li class="pagination__item pagination__item--next"><a data-page="{{ currentPage + 1 }}" href="#">Next</a></li>
        <li class="pagination__item pagination__item--last"><a data-page="{{ totalPages }}" href="#">Last</a></li>
      </ul>
    </li>
  </ul>
</nav>