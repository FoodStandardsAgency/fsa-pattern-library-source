{% set region_is_defined = region is defined and region is not empty %}
{% if region_is_defined %}
  {% if region|length == 1 %}
    {% set region_class = "document-download--" ~ region[0].class|lower|replace({" ": "-"}) %}
    {% set region_string = region[0].string %}
  {% elseif region|length > 1 %}
    {% set region_class = "document-download--multi" %}
    {% set region_first = [] %}
    {% set region_last = '' %}
    {% for item in region %}
      {% if not loop.last %}
        {% set region_first = region_first|merge([item.string]) %}
      {% else %}
        {% set region_last = item.string %}
      {% endif %}
    {% endfor %}
    {% set region_string = region_first|join(", ") ~ " and " ~ region_last %}
  {% endif %}
{% endif %}

<div class="regional-variation-block{{ region_class is defined ? " " ~ region_class : "" }}{{ transparent_background ? "" : " regional-variation-block--solid" }}">
  <h3 class="regional-variation-block__region">
    {{ region_string }}
  </h3>
  <div class="regional-variation-block__copy">
    {{ wysiwyg_content|raw }}
  </div>
</div>